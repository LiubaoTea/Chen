<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>发表商品评价 - 陳記六堡茶</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/responsive.css">
    <link rel="stylesheet" href="./css/shop.css">
    <link rel="stylesheet" href="./css/product-detail.css">
    <link rel="stylesheet" href="./css/submit-review.css">
    <!-- 引入字体图标库 -->
    <link rel="stylesheet" href="./src/Font Awesome 6.72/css/all.min.css" onerror="this.onerror=null;this.href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.72.0/css/all.min.css';">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo-container">
                <img src="https://r2liubaotea.liubaotea.online/image/Design_Assets/liubaotea_logo.png" alt="陳記六堡茶" class="logo">
                <h1 class="brand-name">陳記六堡茶</h1>
            </div>
            <nav class="main-nav">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-list" id="navList">
                    <li><a href="index.html">首页</a></li>
                    <li><a href="products.html">产品展示</a></li>
                    <li><a href="brand-story.html">品牌故事</a></li>
                    <li><a href="tea-culture.html">茶文化</a></li>
                    <li><a href="contact.html">联系我们</a></li>
                    <li><a href="user-center.html">个人中心</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <a href="cart.html" class="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </a>
                <div class="user-actions" id="userActions">
                    <a href="login.html" class="login-btn">登录</a>
                    <a href="register.html" class="register-btn">注册</a>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <div class="breadcrumb">
            <a href="index.html">首页</a> &gt; 
            <a href="user-center.html">个人中心</a> &gt; 
            <a href="user-orders.html">我的订单</a> &gt; 
            <span>发表评价</span>
        </div>

        <div class="submit-review-container">
            <h2>发表商品评价</h2>
            
            <!-- 订单信息 -->
            <div class="order-info" id="orderInfo">
                <div class="order-number">订单号：<span id="orderNumber">加载中...</span></div>
                <div class="order-date">下单时间：<span id="orderDate">加载中...</span></div>
            </div>
            
            <!-- 商品信息 -->
            <div class="product-info" id="productInfo">
                <div class="product-image-container">
                    <img src="" alt="商品图片" id="productImage" class="product-image">
                </div>
                <div class="product-details">
                    <h3 id="productName">加载中...</h3>
                    <div class="product-price">¥<span id="productPrice">0.00</span></div>
                    <div class="product-specs" id="productSpecs">规格：加载中...</div>
                </div>
            </div>
            
            <!-- 评价表单 -->
            <div class="review-form-container">
                <form id="reviewForm">
                    <input type="hidden" id="productId" name="product_id" value="">
                    <input type="hidden" id="orderId" name="order_id" value="">
                    
                    <div class="rating-select">
                        <span>评分：</span>
                        <div class="star-rating">
                            <i class="fas fa-star" data-rating="1"></i>
                            <i class="fas fa-star" data-rating="2"></i>
                            <i class="fas fa-star" data-rating="3"></i>
                            <i class="fas fa-star" data-rating="4"></i>
                            <i class="fas fa-star" data-rating="5"></i>
                        </div>
                        <input type="hidden" id="ratingInput" name="rating" value="5">
                    </div>
                    
                    <div class="form-group">
                        <label for="reviewContent">评价内容：</label>
                        <textarea id="reviewContent" name="content" rows="4" placeholder="请分享您对这款产品的使用体验和感受..."></textarea>
                        <div class="error-message" id="contentError"></div>
                    </div>
                    
                    <div class="form-group">
                        <label>上传图片（可选）：</label>
                        <div class="image-upload-container">
                            <div class="image-upload-btn" id="imageUploadBtn">
                                <i class="fas fa-plus"></i>
                                <span>添加图片</span>
                            </div>
                            <input type="file" id="imageUpload" multiple accept="image/*" style="display: none;">
                            <div class="image-preview-container" id="imagePreviewContainer"></div>
                        </div>
                        <div class="upload-tip">最多可上传5张图片，每张不超过5MB</div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancelBtn">取消</button>
                        <button type="submit" class="btn btn-primary" id="submitReviewBtn">提交评价</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="https://r2liubaotea.liubaotea.online/image/Design_Assets/liubaotea_logo.png" alt="陳記六堡茶" class="logo">
                    <h2>陳記六堡茶</h2>
                </div>
                <div class="footer-links">
                    <div class="footer-section">
                        <h3>关于我们</h3>
                        <ul>
                            <li><a href="brand-story.html">品牌故事</a></li>
                            <li><a href="tea-culture.html">茶文化</a></li>
                            <li><a href="contact.html">联系我们</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h3>客户服务</h3>
                        <ul>
                            <li><a href="faq.html">常见问题</a></li>
                            <li><a href="shipping-policy.html">配送政策</a></li>
                            <li><a href="return-policy.html">退换政策</a></li>
                        </ul>
                    </div>
                    <div class="footer-section">
                        <h3>联系方式</h3>
                        <p><i class="fas fa-phone"></i> 400-123-4567</p>
                        <p><i class="fas fa-envelope"></i> info@liubaotea.com</p>
                        <p><i class="fas fa-map-marker-alt"></i> 广西梧州市苍梧县六堡镇</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 陳記六堡茶 版权所有</p>
            </div>
        </div>
    </footer>

    <!-- 消息提示模态框 -->
    <div class="message-modal" id="messageModal">
        <div class="message-content">
            <div class="message-icon">
                <i class="fas fa-check-circle success-icon"></i>
                <i class="fas fa-times-circle error-icon"></i>
            </div>
            <div class="message-text" id="messageText"></div>
        </div>
    </div>

    <!-- 图片查看模态框 -->
    <div class="review-image-modal" id="reviewImageModal">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="reviewModalImage">
    </div>

    <!-- JavaScript 文件 -->
    <script type="module" src="./js/config.js"></script>
    <script type="module" src="./js/api-extended.js"></script>
    <script type="module" src="./js/utils.js"></script>
    <script type="module" src="./js/header.js"></script>
    <script type="module" src="./js/submit-review.js"></script>
</body>
</html>